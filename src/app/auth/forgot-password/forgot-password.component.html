<div class="min-h-screen flex items-center justify-center bg-[var(--color-bg)] text-[var(--color-text)] px-4">
  <div class="max-w-md w-full bg-[var(--color-bg)] border border-[var(--color-border)] p-6 md:p-8 rounded-2xl shadow-[0_0_10px_0_var(--color-shadow)]">

    <div class="flex justify-center items-center mb-6">
      <img src="assets/logo-full.png" alt="EasyQuizzy" class="h-30 md:h-40 object-contain" />
    </div>

    <h2 class="text-center mb-2">¿Olvidaste tu contraseña?</h2>
    <p class="subtitle text-center mb-6">
      Te enviaremos un código para restablecer tu contraseña
    </p>

    @if (errorMessage()) {
      <app-error [message]="errorMessage() | errorMessage"></app-error>
    }

    @if (successMessage()) {
      <p class="text-green-600 text-center mb-4 font-medium">{{ successMessage() }}</p>
    }

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <input
        formControlName="email"
        type="email"
        placeholder="Correo electrónico"
        class="input my-3"
        [class.border-red-400]="f.email.touched && f.email.invalid"
      />
      @if (f.email.touched && f.email.invalid) {
        <p class="error-text">
          @if (f.email.errors?.['required']) { El correo es obligatorio. }
          @else if (f.email.errors?.['email']) { Ingresa un correo válido. }
        </p>
      }

      <button type="submit" class="btn btn--primary mt-4 w-full" [disabled]="loading()">
        @if (loading()) { Enviando... } @else { Enviar código }
      </button>
    </form>

    <div class="text-center mt-6">
      <a routerLink="/auth/login" class="link">Volver al inicio de sesión</a>
    </div>
  </div>
</div>
