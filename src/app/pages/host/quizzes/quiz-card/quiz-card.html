<div
  class="bg-[var(--color-bg)] border border-[var(--color-border)]
         rounded-2xl p-4 hover:shadow-lg transition h-full flex flex-col">

  <!-- ===== HEADER ===== -->
  <div class="flex items-start justify-between gap-3">
    <h3 class="text-lg font-semibold line-clamp-2">{{ quiz.title }}</h3>
    <span
      class="text-xs px-2 py-1 rounded-full border"
      [class]="quiz.is_public ? 'border-green-500 text-green-600' : 'border-[var(--color-border)] text-[var(--color-muted)]'">
      {{ quiz.is_public ? 'P√∫blico' : 'Privado' }}
    </span>
  </div>

  <!-- ===== DESCRIPCI√ìN ===== -->
  @if (quiz.description) {
    <p class="mt-1 text-[var(--color-muted)] line-clamp-2">
      {{ quiz.description }}
    </p>
  }

  <!-- ===== INFO ===== -->
  <div class="mt-4 flex items-center gap-4 text-sm text-[var(--color-muted)]">
    <span class="inline-flex items-center gap-1">
      <mat-icon fontIcon="help_outline" class="text-[var(--color-muted)]"></mat-icon>
      {{ quiz.question_count }} preguntas
    </span>
    <span class="inline-flex items-center gap-1">
      <mat-icon fontIcon="category" class="text-[var(--color-muted)]"></mat-icon>
      {{ quiz.category_count }} categor√≠as
    </span>
  </div>

  <div class="mt-2 text-xs text-[var(--color-muted)]">
    Creado el {{ quiz.created_at | date:'medium' }}
  </div>

  <!-- ===== BOTONES ===== -->
  <div class="mt-4 pt-2 border-t border-[var(--color-border)] flex flex-col gap-2">
    <a class="btn btn--primary w-full text-center block"
       [routerLink]="['/host/quizzes', quiz.quiz_id]">
      Ver quiz
    </a>

    <!-- üÜï BOT√ìN EDITAR -->
    <a
      class="bg-orange-500 text-white rounded-xl py-2 w-full font-medium
             hover:bg-orange-600 transition flex items-center justify-center gap-2"
      [routerLink]="['/host/quizzes', quiz.quiz_id, 'edit']">
      <mat-icon fontIcon="edit" class="text-white text-base"></mat-icon>
      Editar quiz
    </a>

    <!-- BOT√ìN PARA CREAR SESI√ìN -->
    <button
      class="bg-[var(--color-primary)] text-white rounded-xl py-2 w-full font-medium
             hover:bg-[var(--color-primary-hover)] transition flex items-center justify-center gap-2"
      (click)="createSession.emit(quiz.quiz_id)">
      <mat-icon fontIcon="rocket_launch" class="text-white text-base"></mat-icon>
      Iniciar sesi√≥n en vivo
    </button>

    <button
      class="bg-blue-500 text-white rounded-xl py-2 w-full font-medium 
            hover:bg-blue-600 transition flex items-center justify-center gap-2"
      (click)="createSelfStudy.emit(quiz.quiz_id)">
      <mat-icon fontIcon="menu_book"></mat-icon>
      Autoestudio
    </button>
  </div>
</div>