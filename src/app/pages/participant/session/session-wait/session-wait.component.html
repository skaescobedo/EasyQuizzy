<section
  class="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-[var(--color-bg)] to-[#93c5fd] via-[#93c5fd] p-6"
>
  <div
    class="bg-[var(--color-bg)] border border-[var(--color-border)] rounded-2xl shadow-xl p-8 max-w-md w-full text-center"
  >
    <h1 class="text-2xl font-bold mb-3 text-[var(--color-text)]">
      Esperando que comience el quiz ðŸš€
    </h1>

    <p class="text-[var(--color-muted)] mb-6">
      CÃ³digo de sesiÃ³n:
      <span class="font-mono font-semibold">{{ code() }}</span>
      <span *ngIf="myNickname()" class="ml-1 text-[var(--color-muted)]"
        >({{ myNickname() }})</span
      >
    </p>

    <!-- Avatar y nombre del jugador -->
    <div class="flex flex-col items-center mb-8">
      <img
        [src]="myAvatar() || getAvatar(myNickname() || 'Jugador')"
        class="w-20 h-20 rounded-full border-2 border-[var(--color-primary)] shadow-md bg-[var(--color-bg-secondary)]"
        alt="avatar"
      />
      <p class="mt-3 text-lg font-semibold text-[var(--color-text)]">
        TÃº
        <span *ngIf="myNickname()">({{ myNickname() }})</span>
      </p>
    </div>

    <!-- Mensaje animado de espera -->
    <div class="text-[var(--color-muted)] text-sm mb-6 animate-pulse">
      Esperando que el host inicie la actividad...
    </div>

    <!-- Lista de participantes -->
    <div class="border-t border-[var(--color-border)] pt-4">
      <h2 class="text-sm font-medium mb-3 text-[var(--color-text)]">
        Participantes conectados
      </h2>
      <div class="grid grid-cols-3 gap-4">
        @for (p of participants(); track p.nickname) {
          <div class="flex flex-col items-center">
            <img
              [src]="p.avatar_url || getAvatar(p.nickname)"
              class="w-12 h-12 rounded-full border border-[var(--color-border)] bg-[var(--color-bg-secondary)]"
              alt="avatar"
            />
            <p class="text-xs mt-1 truncate w-16 text-[var(--color-muted)]">
              {{ p.nickname }}
            </p>
          </div>
        }
      </div>
    </div>

    <button
      (click)="leaveSession()"
      class="mt-8 w-full bg-[var(--color-danger)] text-white py-3 rounded-xl font-semibold hover:opacity-90 transition"
    >
      Salir
    </button>
  </div>
</section>
